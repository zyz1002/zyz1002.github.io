<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>部署 on My New Hugo Site</title><link>https://zyz1002.github.io/tags/%E9%83%A8%E7%BD%B2/</link><description>Recent content in 部署 on My New Hugo Site</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 14 Nov 2025 18:20:00 +0800</lastBuildDate><atom:link href="https://zyz1002.github.io/tags/%E9%83%A8%E7%BD%B2/index.xml" rel="self" type="application/rss+xml"/><item><title>GitHub 部署流程复盘</title><link>https://zyz1002.github.io/posts/git-deploy-notes/</link><pubDate>Fri, 14 Nov 2025 18:20:00 +0800</pubDate><guid>https://zyz1002.github.io/posts/git-deploy-notes/</guid><description>&lt;p>最近在折腾 Hugo + GitHub Pages，整理一下问答要点，免得下次忘记：&lt;/p>

&lt;h2 id="基本概念">基本概念
 &lt;a class="heading-anchor" href="#%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5" aria-label="Copy link to this section">
 &lt;svg viewBox="0 0 1024 1024" width="18" height="18" fill="currentColor" aria-hidden="true">
 &lt;path d="M633.417143 429.007238a174.567619 174.567619 0 0 1 0 246.857143l-155.306667 155.306667a186.709333 186.709333 0 1 1-264.045714-264.045715l76.483048-76.507428 51.73638 51.736381-76.507428 76.507428a113.566476 113.566476 0 1 0 160.597333 160.597334l155.306667-155.306667a101.424762 101.424762 0 0 0 0-143.408762z m208.603428-225.816381a186.709333 186.709333 0 0 1 0 264.045714L765.561905 543.744l-51.736381-51.712 76.507428-76.507429a113.566476 113.566476 0 1 0-160.597333-160.597333l-155.306667 155.306667a101.424762 101.424762 0 0 0 0 143.408762l-51.736381 51.736381a174.567619 174.567619 0 0 1 0-246.857143l155.306667-155.306667a186.709333 186.709333 0 0 1 264.045714 0z"/>
 &lt;/svg>
 &lt;/a>
&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>Git&lt;/strong>：版本管理工具，记录每次修改。&lt;code>git add&lt;/code> 暂存，&lt;code>git commit&lt;/code> 生成快照，&lt;code>git push&lt;/code> 同步到远程。&lt;/li>
&lt;li>&lt;strong>仓库&lt;/strong>：存放项目的文件夹；本地一个，GitHub 上也有一个，通过远程地址 (&lt;code>origin&lt;/code>) 连接。&lt;/li>
&lt;li>&lt;strong>分支&lt;/strong>：仓库里的不同时间线，默认是 &lt;code>main&lt;/code> 或 &lt;code>master&lt;/code>，通常只用主分支即可。&lt;/li>
&lt;li>&lt;strong>GitHub Pages&lt;/strong>：GitHub 提供的静态站托管，把构建好的 HTML/CSS/JS 推到指定仓库就能上线。&lt;/li>
&lt;/ul>

&lt;h2 id="当前工作流">当前工作流
 &lt;a class="heading-anchor" href="#%e5%bd%93%e5%89%8d%e5%b7%a5%e4%bd%9c%e6%b5%81" aria-label="Copy link to this section">
 &lt;svg viewBox="0 0 1024 1024" width="18" height="18" fill="currentColor" aria-hidden="true">
 &lt;path d="M633.417143 429.007238a174.567619 174.567619 0 0 1 0 246.857143l-155.306667 155.306667a186.709333 186.709333 0 1 1-264.045714-264.045715l76.483048-76.507428 51.73638 51.736381-76.507428 76.507428a113.566476 113.566476 0 1 0 160.597333 160.597334l155.306667-155.306667a101.424762 101.424762 0 0 0 0-143.408762z m208.603428-225.816381a186.709333 186.709333 0 0 1 0 264.045714L765.561905 543.744l-51.736381-51.712 76.507428-76.507429a113.566476 113.566476 0 1 0-160.597333-160.597333l-155.306667 155.306667a101.424762 101.424762 0 0 0 0 143.408762l-51.736381 51.736381a174.567619 174.567619 0 0 1 0-246.857143l155.306667-155.306667a186.709333 186.709333 0 0 1 264.045714 0z"/>
 &lt;/svg>
 &lt;/a>
&lt;/h2>
&lt;ol>
&lt;li>&lt;code>yuu_blog/&lt;/code> 作为源码仓库（&lt;code>hugo-source&lt;/code>），只保存 Markdown、主题、配置等。&lt;code>public/&lt;/code> 被 &lt;code>.gitignore&lt;/code> 忽略。&lt;/li>
&lt;li>每次写完内容运行 &lt;code>deploy.ps1&lt;/code>：
&lt;ul>
&lt;li>提交源码并 &lt;code>git push origin main&lt;/code>（同步到 &lt;code>hugo-source&lt;/code>）&lt;/li>
&lt;li>执行 &lt;code>hugo --minify&lt;/code> 重新生成 &lt;code>public/&lt;/code>&lt;/li>
&lt;li>在 &lt;code>public/&lt;/code> 仓库里 &lt;code>git add/commit/push -f origin main&lt;/code>，覆盖 &lt;code>zyz1002.github.io&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>几秒后访问 &lt;code>https://zyz1002.github.io/&lt;/code> 就能看到最新站点。&lt;/li>
&lt;/ol>

&lt;h2 id="自动部署是什么">自动部署是什么
 &lt;a class="heading-anchor" href="#%e8%87%aa%e5%8a%a8%e9%83%a8%e7%bd%b2%e6%98%af%e4%bb%80%e4%b9%88" aria-label="Copy link to this section">
 &lt;svg viewBox="0 0 1024 1024" width="18" height="18" fill="currentColor" aria-hidden="true">
 &lt;path d="M633.417143 429.007238a174.567619 174.567619 0 0 1 0 246.857143l-155.306667 155.306667a186.709333 186.709333 0 1 1-264.045714-264.045715l76.483048-76.507428 51.73638 51.736381-76.507428 76.507428a113.566476 113.566476 0 1 0 160.597333 160.597334l155.306667-155.306667a101.424762 101.424762 0 0 0 0-143.408762z m208.603428-225.816381a186.709333 186.709333 0 0 1 0 264.045714L765.561905 543.744l-51.736381-51.712 76.507428-76.507429a113.566476 113.566476 0 1 0-160.597333-160.597333l-155.306667 155.306667a101.424762 101.424762 0 0 0 0 143.408762l-51.736381 51.736381a174.567619 174.567619 0 0 1 0-246.857143l155.306667-155.306667a186.709333 186.709333 0 0 1 264.045714 0z"/>
 &lt;/svg>
 &lt;/a>
&lt;/h2>
&lt;p>当前属于“半自动”：脚本帮我把源码提交 + 构建 + 推送都跑一遍，但仍然在本地执行。若改用 GitHub Actions，就可以只 push 源码，服务器自动构建并部署到 &lt;code>gh-pages&lt;/code> 分支。这一步以后再尝试。&lt;/p></description></item></channel></rss>